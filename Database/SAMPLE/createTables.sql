CREATE DATABASE SAMPLE;

USE SAMPLE;

CREATE TABLE Departament (
	DEPTNO CHAR(3) PRIMARY KEY NOT NULL,
	DEPTNAME VARCHAR(36) NOT NULL,
	MGRNO CHAR(6),
	ADMRDEPT CHAR(3) NOT NULL,
	LOCATION CHAR(5)
);

CREATE TABLE Employee(
	EMPNO CHAR(6) PRIMARY KEY NOT NULL,
	FIRSTNME VARCHAR(20) NOT NULL,
	MIDINIT CHAR(1) NOT NULL,
	LASTNAME VARCHAR(15) NOT NULL,
	WORKDEPT CHAR(3),
	PHONENO CHAR(4),
	HIREDATE DATE,
	JOB CHAR(8),
	EDLEVEL SMALLINT,
	SEX CHAR(1) CHECK (SEX in ('F', 'M')),
	BIRTHDATE DATE,
	SALARY DECIMAL(9, 2),
	BONUS DECIMAL(9, 2),
	COMM DECIMAL(9, 2), 
	CONSTRAINT FK_EMPLOYEE_DEPARTMENT FOREIGN KEY (WORKDEPT) REFERENCES Departament(DEPTNO)
);


CREATE TABLE Project(
	PROJNO CHAR(6) PRIMARY KEY NOT NULL,
	PROJNAME VARCHAR(24) NOT NULL,
	DEPTNO CHAR(3) NOT NULL,
	RESPEMP CHAR(6) NOT NULL,
	PRSTAFF DECIMAL(5, 2),
	PRSTDATE DATE,
	PRENDATE DATE,
	MAJPROJ CHAR(6),
	CONSTRAINT FK_PROJECT_DEPARTMENT FOREIGN KEY (DEPTNO) REFERENCES Departament(DEPTNO),
	CONSTRAINT FK_PROJECT_EMPLOYEE FOREIGN KEY (RESPEMP) REFERENCES Employee(EMPNO)
);


CREATE TABLE Emp_Act(
	EMPNO CHAR(6) NOT NULL,
	PROJNO CHAR(6) NOT NULL,
	ACTNO SMALLINT NOT NULL,
	EMPTIME DECIMAL(5, 2),
	EMSTDATE DATE,
	EMENDATE DATE,
	CONSTRAINT FK_ACT_EMPLOYEE FOREIGN KEY (EMPNO) REFERENCES Employee(EMPNO),
	CONSTRAINT FK_ACT_PROJECT FOREIGN KEY (PROJNO) REFERENCES Project(PROJNO)
);